(this["webpackJsonp4eddit-boilerplate"]=this["webpackJsonp4eddit-boilerplate"]||[]).push([[0],{106:function(t,e,n){t.exports=n(134)},134:function(t,e,n){"use strict";n.r(e);var r=n(0),a=n.n(r),o=n(14),c=n.n(o),i=n(15),u=n(89),l=n(171),s=n(172),p=n(99),m=Object(p.a)({palette:{common:{black:"#000",white:"#fff"},background:{paper:"#fff",default:"rgba(219, 224, 230, 1)"},primary:{light:"rgba(88, 175, 240, 1)",main:"rgba(0, 121, 210, 1)",dark:"rgba(0, 71, 125, 1)",contrastText:"#fff"},secondary:{light:"rgba(193, 198, 201, 1)",main:"rgba(134, 138, 141, 1)",dark:"rgba(102, 105, 107, 1)",contrastText:"rgba(255, 255, 255, 1)"},error:{light:"#e57373",main:"#f44336",dark:"#d32f2f",contrastText:"#fff"},text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 121, 210, 1)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(65, 117, 5, 1)"}}}),f=n(32),d=n(62),h=n(24),v=n(9),g=n(10),b=n(11),O=n(12),j=n(18),y=n.n(j),x=n(33),E=n(34),w=n.n(E),k="https://us-central1-missao-newton.cloudfunctions.net/fourEddit",S=function(t){return{type:"SET_USER",payload:{userData:t}}},D=function(){return function(){var t=Object(x.a)(y.a.mark((function t(e){var n,r;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=localStorage.getItem("token"),t.next=4,w.a.get("".concat(k,"/posts"),{headers:{auth:n}});case 4:r=t.sent,e(C(r.data)),e(T()),e(_()),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),alert("erro ao logar. contate o suporte",t.t0),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},C=function(t){return{type:"SET_POSTS",payload:{posts:t}}},I=function(t){return{type:"NEW_USER",payload:{newUserData:t}}},T=function(){return{type:"SET_LOADING_OFF",payload:{}}},_=function(){return{type:"SET_LOADING_FREE",payload:{}}},V=function(t){return function(){var e=Object(x.a)(y.a.mark((function e(n){var r,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=localStorage.getItem("token"),e.next=4,w.a.get("".concat(k,"/posts/").concat(t),{headers:{auth:r}});case 4:a=e.sent,console.log(a.data.post),n(A(a.data.post)),n(T()),n(_()),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),alert("erro ao pegar detalhes. contate o suporte",e.t0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()},A=function(t){return{type:"SET_POST_DETAIL",payload:{post:t}}},L=n(19),N=function(t){Object(O.a)(n,t);var e=Object(b.a)(n);function n(t){var r;return Object(v.a)(this,n),(r=e.call(this,t)).handleInput=function(t){r.setState(Object(h.a)({},t.target.name,t.target.value))},r.handleLogin=function(t){t.preventDefault();var e=r.state,n=e.email,a=e.password;r.props.login(n,a)},r.state={email:"thales.eduardo@gmail.com",password:"12345"},r}return Object(g.a)(n,[{key:"componentDidUpdate",value:function(){null!==localStorage.getItem("token")&&this.props.goToFeed()}},{key:"render",value:function(){var t=this.state,e=t.email,n=t.password;return a.a.createElement("div",null,a.a.createElement("h1",null,"Fa\xe7a seu login "),a.a.createElement("form",{onSubmit:this.handleLogin},a.a.createElement("input",{name:"email",type:"email",label:"Digite seu email",required:!0,value:e,onChange:this.handleInput}),a.a.createElement("input",{name:"password",type:"password",label:"Digite sua senha",required:!0,value:n,onChange:this.handleInput}),a.a.createElement("button",{type:"submit"},"Login"),a.a.createElement("p",null," Ou "),a.a.createElement("hr",null)),a.a.createElement("button",{onClick:this.props.goToRegister},"Cadastre-se"))}}]),n}(r.Component),P=Object(i.c)((function(t){return{user:t.posts.user}}),(function(t){return{login:function(e,n){return t(function(t,e){return function(){var n=Object(x.a)(y.a.mark((function n(r){var a,o,c,i;return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a={email:t,password:e},n.prev=1,n.next=4,w.a.post("".concat(k,"/login"),a);case 4:o=n.sent,c=o.data.token,i=JSON.stringify(o.data.user),console.log(o.data),localStorage.setItem("token",c),localStorage.setItem("user",i),r(S(o.data.user)),n.next=16;break;case 13:n.prev=13,n.t0=n.catch(1),window.alert("Desculpe, o login de deu errado, tente novamente",n.t0);case 16:case"end":return n.stop()}}),n,null,[[1,13]])})));return function(t){return n.apply(this,arguments)}}()}(e,n))},goToRegister:function(){return t(Object(L.d)(le.cadastro))},goToFeed:function(){return t(Object(L.d)(le.root))}}}))(N),U=n(6),M=n(7),F=n(135),R=n(175),W=n(45),q=n.n(W);function z(){var t=Object(U.a)(["\nwidth: 100%;\n"]);return z=function(){return t},t}function G(){var t=Object(U.a)(["\nmargin-right: 5px;\nfont-size: 20px;\n"]);return G=function(){return t},t}function H(){var t=Object(U.a)(["\nwidth: 20px;\nheight: 20px;\nmargin-right: 5px;\n"]);return H=function(){return t},t}function J(){var t=Object(U.a)(["\ndisplay: flex;\nflex-direction: row;\nmargin-top: 10px;\n"]);return J=function(){return t},t}function X(){var t=Object(U.a)(["\ndisplay: flex;\nflex-direction: row;\nmargin-bottom: 10px;\n"]);return X=function(){return t},t}function Y(){var t=Object(U.a)(["\nmargin: 10px;\npadding: 10px;\ndisplay: inline-flex;\nmin-width: 50%;\ncursor: pointer;\n"]);return Y=function(){return t},t}var B=Object(M.a)(F.a)(Y()),Z=M.a.div(X()),K=M.a.div(J()),Q=Object(M.a)(R.a)(H()),$=Object(M.a)(q.a)(G()),tt=M.a.div(z());function et(){var t=Object(U.a)(["\ndisplay: flex;\nflex-direction: column;\ncursor: pointer;\ntext-align: center;\nalign-content: center;\nalign-items: center;\nmargin-right: 10px;\n"]);return et=function(){return t},t}var nt=M.a.div(et()),rt=n(48),at=n.n(rt),ot=n(136),ct=function(t){Object(O.a)(n,t);var e=Object(b.a)(n);function n(){var t;Object(v.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=e.call.apply(e,[this].concat(a))).handlewithVote=function(e){var n="";t.props.userVoteDirection===e?n=0:t.props.userVoteDirection!==e&&(n=e);var r={direction:n};t.props.topicVote(t.props.topicId,r)},t.upIcon=function(){var e="gray";return 1===t.props.userVoteDirection&&(e="green"),{transform:"rotate(270deg)",color:e}},t.downIcon=function(){var e="gray";return-1===t.props.userVoteDirection&&(e="orange"),{transform:"rotate(90deg)",color:e}},t}return Object(g.a)(n,[{key:"render",value:function(){var t=this;return a.a.createElement(nt,null,a.a.createElement(at.a,{onClick:function(){t.handlewithVote(1)},style:this.upIcon()}),a.a.createElement(ot.a,{variant:"body1"},this.props.votesCount),a.a.createElement(at.a,{onClick:function(){t.handlewithVote(-1)},style:this.downIcon()}))}}]),n}(r.Component),it=Object(i.c)((function(t){return{}}),(function(t){return{topicVote:function(e,n){return t(function(t,e){return function(){var n=Object(x.a)(y.a.mark((function n(r){var a;return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a=localStorage.getItem("token"),n.next=4,w.a.put("".concat(k,"/posts/").concat(t,"/vote"),e,{headers:{auth:a}});case 4:n.sent,r(D()),r(V(t)),n.next=13;break;case 9:n.prev=9,n.t0=n.catch(0),window.alert("n\xe3o foi possivel votar"),console.log(n.t0);case 13:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(t){return n.apply(this,arguments)}}()}(e,n))}}}))(ct),ut=function(t){Object(O.a)(n,t);var e=Object(b.a)(n);function n(){var t;Object(v.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=e.call.apply(e,[this].concat(a))).textComment=function(){var e="comentarios";return 1===t.props.commentsNumber&&(e="comentario"),e},t.gna=function(){return Math.floor(9*Math.random())},t.calcHour=function(){var e="",n=(new Date-new Date(t.props.createdAt))/1e3/60/60,r=Math.trunc(n),a=Math.floor(60*(n-r)),o=0,c=0,i=r/24;i>1&&(c=Math.trunc(i),o=Math.floor(24*(i-c))),i<1&&(o=24*i);var u=new Date(t.props.createdAt),l=u.getDate(),s=u.getMonth()+1,p=u.getFullYear();return c>0?e="".concat(c," dias, ").concat(o," horas e ").concat(a," minutos (").concat(l,"/").concat(s,"/").concat(p,")."):c<=0&&o>0?e="".concat(o," horas e ").concat(a," minutos (").concat(l,"/").concat(s,"/").concat(p,")."):c<=0&&o<=0&&(e="".concat(a," minutos (").concat(l,"/").concat(s,"/").concat(p,").")),e},t}return Object(g.a)(n,[{key:"componentDidMount",value:function(){null===localStorage.getItem("token")&&this.props.goToLogin(),this.calcHour()}},{key:"render",value:function(){var t=this,e=this.calcHour();return a.a.createElement(B,null,a.a.createElement(it,{key:this.props.id,userVoteDirection:this.props.userVoteDirection,topicId:this.props.id,votesCount:this.props.votesCount}),a.a.createElement(tt,{onClick:function(){t.props.selectedId(t.props.id)}},a.a.createElement(Z,null,a.a.createElement(Q,{src:"https://picsum.photos/1".concat(this.gna()).concat(this.gna())}),a.a.createElement(ot.a,{variant:"caption",color:"secondary"},a.a.createElement("strong",null,"r/categoria")," Criado por: ",a.a.createElement("strong",null,"u/",this.props.username)," a ",e)),a.a.createElement("div",null,a.a.createElement(ot.a,{variant:"h6",color:"textPrimary"},this.props.title),a.a.createElement(ot.a,{variant:"subtitle1",color:"textPrimary"},this.props.text)),a.a.createElement(K,null,a.a.createElement($,null),a.a.createElement(ot.a,{variant:"caption",color:"secondary"}," ",this.props.commentsNumber," ",this.textComment()))))}}]),n}(r.Component),lt=n(20),st=[{name:"title",label:"Titulo",type:"text",required:!0,title:"T\xedtulo do post"},{name:"text",label:"Texto da postagem",type:"text",required:!0,title:"Texto descrevendo a postagem",multiline:!0,rows:5}],pt=n(173);function mt(){var t=Object(U.a)(["\ndisplay: flex;\njustify-content: center\n"]);return mt=function(){return t},t}function ft(){var t=Object(U.a)(["\nbackground-color: #f6f7f9;\ndisplay: flex;  \njustify-content: center;\nalign-content: center;\nalign-items: center;\ntext-align: center;\nalign-self: center;\n"]);return ft=function(){return t},t}function dt(){var t=Object(U.a)(["\nmargin: 10px;\npadding: 10px;\ndisplay: inline-flex;\nmin-width: 50%;\n"]);return dt=function(){return t},t}var ht=Object(M.a)(F.a)(dt()),vt=Object(M.a)(pt.a)(ft()),gt=(M.a.div(mt()),n(176)),bt=n(174),Ot=function(t){Object(O.a)(n,t);var e=Object(b.a)(n);function n(t){var r;return Object(v.a)(this,n),(r=e.call(this,t)).handleInputChange=function(t){var e=t.target,n=e.name,a=e.value;r.setState({form:Object(lt.a)({},r.state.form,Object(h.a)({},n,a))})},r.handleSubmission=function(t){t.preventDefault(),r.props.newPost(r.state.form)},r.state={form:{}},r}return Object(g.a)(n,[{key:"render",value:function(){var t=this;return a.a.createElement(ht,null,a.a.createElement(gt.a,{fullWidth:!0},a.a.createElement("form",{onSubmit:this.handleSubmission},st.map((function(e){return a.a.createElement(vt,{variant:"outlined",key:e.name,id:e.name,label:e.label,name:e.name,type:e.type,onChange:t.handleInputChange,pattern:e.pattern,inputProps:{pattern:e.pattern,min:e.min,title:e.title},min:e.min,required:e.required,title:e.title,value:t.state.form[e.name],margin:"dense",fullWidth:!0,multiline:e.multiline,rows:e.rows})})),a.a.createElement(bt.a,{type:"submit",variant:"contained",color:"primary"},"Enviar"))))}}]),n}(r.Component),jt=Object(i.c)((function(t){return{}}),(function(t){return{newPost:function(e){return t(function(t){return function(){var e=Object(x.a)(y.a.mark((function e(n){var r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=localStorage.getItem("token"),e.next=4,w.a.post("".concat(k,"/posts"),t,{headers:{auth:r}});case 4:e.sent,n(D()),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),alert("erro ao enviar. contate o suporte",e.t0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()}(e))}}}))(Ot);function yt(){var t=Object(U.a)(["\ndisplay: flex;\nflex-direction: column;\njustify-content: center;\nalign-content: center;\nalign-items: center;\n"]);return yt=function(){return t},t}var xt=M.a.div(yt()),Et=n(177),wt=n(168),kt=function(t){Object(O.a)(n,t);var e=Object(b.a)(n);function n(){return Object(v.a)(this,n),e.apply(this,arguments)}return Object(g.a)(n,[{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement(Et.a,{style:{zIndex:10},open:this.props.open},a.a.createElement(wt.a,{color:"primary"})))}}]),n}(r.Component),St=function(t){Object(O.a)(n,t);var e=Object(b.a)(n);function n(t){var r;return Object(v.a)(this,n),(r=e.call(this,t)).handleWhitSelect=function(t){r.setState({loading:!0}),r.props.getPostDetail(t)},r.handleWhitLoading=function(){"desliga"===r.props.loading&&r.setState({loading:!1})},r.state={loading:!0},r}return Object(g.a)(n,[{key:"componentDidMount",value:function(){null===localStorage.getItem("token")&&this.props.goToLogin(),this.props.getPosts()}},{key:"componentDidUpdate",value:function(){null!==this.props.postComments&&this.props.goToPostDetail(),null===localStorage.getItem("token")&&this.props.goToLogin()}},{key:"componentWillReceiveProps",value:function(){this.handleWhitLoading()}},{key:"render",value:function(){var t=this;return a.a.createElement(xt,null,a.a.createElement(kt,{open:this.state.loading}),a.a.createElement("button",{onClick:function(){t.setState({loading:!0})}},"teste"),a.a.createElement(jt,null),this.props.posts&&this.props.posts.map((function(e){return a.a.createElement(ut,{key:e.id,votesCount:e.votesCount,userVoteDirection:e.userVoteDirection,commentsNumber:e.commentsNumber,id:e.id,username:e.username,text:e.text,createdAt:e.createdAt,title:e.title,selectedId:t.handleWhitSelect})})))}}]),n}(r.Component),Dt=Object(i.c)((function(t){return{posts:t.posts.posts,postComments:t.posts.postComments,user:t.posts.user,loading:t.posts.loading}}),(function(t){return{goToLogin:function(){return t(Object(L.d)(le.login))},goToPostDetail:function(){return t(Object(L.d)(le.postdetails))},getPosts:function(){return t(D())},getPostDetail:function(e){return t(V(e))}}}))(St),Ct=[{name:"username",label:"Nome do novo Usu\xe1rio",type:"text",pattern:"[a-zA-Z]{3,}",title:"nome do usu\xe1rio com no m\xednimo 3 letras"},{name:"email",label:"email do novo Usu\xe1rio",type:"email",title:"email completo do usu\xe1rio"},{name:"password",label:"senha do novo Usu\xe1rio",type:"password",pattern:"{5,}",title:"nova senha com no m\xednimo 5 digitos"}],It=function(t){Object(O.a)(n,t);var e=Object(b.a)(n);function n(t){var r;return Object(v.a)(this,n),(r=e.call(this,t)).handleInputnewUser=function(t){var e=t.target,n=e.name,a=e.value;r.setState({form:Object(lt.a)({},r.state.form,Object(h.a)({},n,a))})},r.handleOnSubmit=function(t){t.preventDefault(),r.props.newRegister(r.state.form)},r.state={form:{}},r}return Object(g.a)(n,[{key:"componentDidUpdate",value:function(){null!==localStorage.getItem("token")&&this.props.goToFeed()}},{key:"render",value:function(){var t=this;return a.a.createElement("div",null,a.a.createElement("form",{onSubmit:this.handleOnSubmit},Ct.map((function(e){return a.a.createElement("div",null,a.a.createElement("label",null,e.label),a.a.createElement("input",{name:e.name,type:e.type,value:t.state.form[e.name],required:e.required,onChange:t.handleInputnewUser,title:e.title}))})),a.a.createElement("button",{type:"submit"},"Cadastrar")))}}]),n}(r.Component),Tt=Object(i.c)((function(t){return{user:t.posts.user}}),(function(t){return{goToFeed:function(){return t(Object(L.d)(le.root))},newRegister:function(e){return t(function(t){return function(){var e=Object(x.a)(y.a.mark((function e(n){var r,a,o;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.prev=1,e.next=4,w.a.post("".concat(k,"/signup"),t);case 4:r=e.sent,n(I(r.data)),a=r.data.token,o=JSON.stringify(r.data.user),localStorage.setItem("user",o),localStorage.setItem("token",a),n(S(r.data.user)),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),window.alert("Ops, n\xe3o foi poss\xedvel cadastrar, tente novamente!"),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}()}(e))}}}))(It);function _t(){var t=Object(U.a)(["\ndisplay: flex;\nflex-direction: column;\ncursor: pointer;\njustify-content: center;\ntext-align: center;\nalign-content: center;\nalign-items: center;\n"]);return _t=function(){return t},t}var Vt=M.a.div(_t()),At=function(t){Object(O.a)(n,t);var e=Object(b.a)(n);function n(){var t;Object(v.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=e.call.apply(e,[this].concat(a))).handlewithVote=function(e){var n="";t.props.userVoteDirection===e?n=0:t.props.userVoteDirection!==e&&(n=e);var r={direction:n};t.props.commentVote(t.props.topicId,r,t.props.commentId)},t.upIcon=function(){var e="gray";return 1===t.props.userVoteDirection&&(e="green"),{transform:"rotate(270deg)",color:e}},t.downIcon=function(){var e="gray";return-1===t.props.userVoteDirection&&(e="orange"),{transform:"rotate(90deg)",color:e}},t}return Object(g.a)(n,[{key:"render",value:function(){var t=this;return a.a.createElement(Vt,null,a.a.createElement(at.a,{onClick:function(){t.handlewithVote(1)},style:this.upIcon()}),a.a.createElement(ot.a,{variant:"body1"},this.props.votesCount),a.a.createElement(at.a,{onClick:function(){t.handlewithVote(-1)},style:this.downIcon()}))}}]),n}(r.Component),Lt=Object(i.c)((function(t){return{}}),(function(t){return{commentVote:function(e,n,r){return t(function(t,e,n){return function(){var r=Object(x.a)(y.a.mark((function r(a){var o;return y.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,o=localStorage.getItem("token"),r.next=4,w.a.put("".concat(k,"/posts/").concat(t,"/comment/").concat(n,"/vote"),e,{headers:{auth:o}});case 4:r.sent,a(V(t)),r.next=12;break;case 8:r.prev=8,r.t0=r.catch(0),window.alert("n\xe3o foi possivel votar"),console.log(r.t0);case 12:case"end":return r.stop()}}),r,null,[[0,8]])})));return function(t){return r.apply(this,arguments)}}()}(e,n,r))}}}))(At);function Nt(){var t=Object(U.a)(["\nwidth: 100%;\n"]);return Nt=function(){return t},t}function Pt(){var t=Object(U.a)(["\nmargin-right: 5px;\nfont-size: 15px;\n"]);return Pt=function(){return t},t}function Ut(){var t=Object(U.a)(["\nwidth: 20px;\nheight: 20px;\nmargin-right: 5px;\n"]);return Ut=function(){return t},t}function Mt(){var t=Object(U.a)(["\ndisplay: flex;\nflex-direction: row;\nmargin-bottom: 10px;\n"]);return Mt=function(){return t},t}function Ft(){var t=Object(U.a)(["\nmargin: 10px;\npadding: 10px;\ndisplay: inline-flex;\nmin-width: 50%;\n"]);return Ft=function(){return t},t}function Rt(){var t=Object(U.a)(["\ndisplay: flex;\njustify-content: space-between;\npadding: 10px;\n"]);return Rt=function(){return t},t}M.a.div(Rt());var Wt=Object(M.a)(F.a)(Ft()),qt=M.a.div(Mt()),zt=(Object(M.a)(R.a)(Ut()),Object(M.a)(q.a)(Pt()),M.a.div(Nt())),Gt=function(t){Object(O.a)(n,t);var e=Object(b.a)(n);function n(){var t;Object(v.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=e.call.apply(e,[this].concat(a))).calcHour=function(){var e="",n=(new Date-new Date(t.props.createdAt))/1e3/60/60,r=Math.trunc(n),a=Math.floor(60*(n-r)),o=0,c=0,i=r/24;i>1&&(c=Math.trunc(i),o=Math.floor(24*(i-c))),i<1&&(o=24*i);var u=new Date(t.props.createdAt),l=u.getDate(),s=u.getMonth()+1,p=u.getFullYear();return c>0?e="".concat(c," dias, ").concat(o," horas e ").concat(a," minutos (").concat(l,"/").concat(s,"/").concat(p,")."):c<=0&&o>0?e="".concat(o," horas e ").concat(a," minutos (").concat(l,"/").concat(s,"/").concat(p,")."):c<=0&&o<=0&&(e="".concat(a," minutos (").concat(l,"/").concat(s,"/").concat(p,").")),e},t}return Object(g.a)(n,[{key:"render",value:function(){var t=this.calcHour();return a.a.createElement(Wt,null,a.a.createElement(Lt,{commentId:this.props.id,votesCount:this.props.votesCount,userVoteDirection:this.props.userVoteDirection,topicId:this.props.topicId}),a.a.createElement(zt,null,a.a.createElement(qt,null,a.a.createElement(ot.a,{variant:"caption",color:"secondary"},"Comentado por ",a.a.createElement("strong",null," ",this.props.username)," a ",t," ")),a.a.createElement("div",null,a.a.createElement(ot.a,{variant:"subtitle2",color:"textPrimary"},this.props.text))))}}]),n}(r.Component);function Ht(){var t=Object(U.a)(["\ndisplay: flex;\njustify-content: center\n"]);return Ht=function(){return t},t}function Jt(){var t=Object(U.a)(["\nbackground-color: #f6f7f9;\ndisplay: flex;  \njustify-content: center;\nalign-content: center;\nalign-items: center;\ntext-align: center;\nalign-self: center;\n"]);return Jt=function(){return t},t}function Xt(){var t=Object(U.a)(["\nmargin: 10px;\npadding: 10px;\ndisplay: inline-flex;\nmin-width: 50%;\n"]);return Xt=function(){return t},t}var Yt=Object(M.a)(F.a)(Xt()),Bt=Object(M.a)(pt.a)(Jt()),Zt=(M.a.div(Ht()),[{name:"text",label:"Novo coment\xe1rio",type:"text",multiline:!0,rows:3,title:"Escreva um novo coment\xe1rio"}]),Kt=function(t){Object(O.a)(n,t);var e=Object(b.a)(n);function n(t){var r;return Object(v.a)(this,n),(r=e.call(this,t)).handleInputChange=function(t){var e=t.target,n=e.name,a=e.value;r.setState({form:Object(lt.a)({},r.state.form,Object(h.a)({},n,a))})},r.handleOnSubmit=function(t){t.preventDefault(),r.props.newComment(r.props.id,r.state.form),console.log("teste ")},r.state={form:{}},r}return Object(g.a)(n,[{key:"render",value:function(){var t=this;return a.a.createElement(Yt,null,a.a.createElement(gt.a,{fullWidth:!0},a.a.createElement("form",{onSubmit:this.handleOnSubmit},Zt.map((function(e){return a.a.createElement(Bt,{variant:"outlined",key:t.props.id,label:e.label,name:e.name,type:e.type,value:t.state.form[e.name],required:e.required,multiline:e.multiline,rows:e.rows,fullWidth:!0,onChange:t.handleInputChange,title:e.title})})),a.a.createElement(bt.a,{type:"submit",variant:"contained",color:"primary"},"Comentar"))))}}]),n}(r.Component),Qt=Object(i.c)((function(t){return{user:t.posts.user}}),(function(t){return{goToFeed:function(){return t(Object(L.d)(le.root))},newComment:function(e,n){return t(function(t,e){return function(){var n=Object(x.a)(y.a.mark((function n(r){var a;return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log(e),console.log(t),n.prev=2,a=localStorage.getItem("token"),n.next=6,w.a.post("".concat(k,"/posts/").concat(t,"/comment"),e,{headers:{auth:a}});case 6:n.sent,r(V(t)),n.next=14;break;case 10:n.prev=10,n.t0=n.catch(2),window.alert("Ops, n\xe3o foi poss\xedvel comentar!"),console.log(n.t0);case 14:case"end":return n.stop()}}),n,null,[[2,10]])})));return function(t){return n.apply(this,arguments)}}()}(e,n))}}}))(Kt);function $t(){var t=Object(U.a)(["\nwidth: 100%;\n"]);return $t=function(){return t},t}function te(){var t=Object(U.a)(["\nmargin-right: 5px;\nfont-size: 15px;\n"]);return te=function(){return t},t}function ee(){var t=Object(U.a)(["\nwidth: 20px;\nheight: 20px;\nmargin-right: 5px;\n"]);return ee=function(){return t},t}function ne(){var t=Object(U.a)(["\ndisplay: flex;\nflex-direction: row;\nmargin-top: 10px;\n"]);return ne=function(){return t},t}function re(){var t=Object(U.a)(["\ndisplay: flex;\nflex-direction: row;\nmargin-bottom: 10px;\n"]);return re=function(){return t},t}function ae(){var t=Object(U.a)(["\nmargin: 10px;\npadding: 10px;\ndisplay: inline-flex;\nmin-width: 50%;\n"]);return ae=function(){return t},t}function oe(){var t=Object(U.a)(["\ndisplay: flex;\nflex-direction: column;\njustify-content: center;\nalign-content: center;\nalign-items: center;\n"]);return oe=function(){return t},t}var ce=M.a.div(oe()),ie=(Object(M.a)(F.a)(ae()),M.a.div(re()),M.a.div(ne()),Object(M.a)(R.a)(ee()),Object(M.a)(q.a)(te()),M.a.div($t()),function(t){Object(O.a)(n,t);var e=Object(b.a)(n);function n(){var t;Object(v.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=e.call.apply(e,[this].concat(a))).textComment=function(){var e="comentarios";return 1===t.props.commentsNumber&&(e="comentario"),e},t.gna=function(){return Math.floor(9*Math.random())},t}return Object(g.a)(n,[{key:"render",value:function(){var t=Object(lt.a)({},this.props.postDetail);return a.a.createElement(ce,null,a.a.createElement(ut,{key:t.id,votesCount:t.votesCount,userVoteDirection:t.userVoteDirection,commentsNumber:t.commentsNumber,id:t.id,username:t.username,text:t.text,createdAt:t.createdAt,title:t.title,selectedId:function(){console.log(t.id)}}),a.a.createElement(Qt,{id:t.id}),this.props.postDetail&&this.props.postDetail.comments.map((function(e){return a.a.createElement(Gt,{key:e.id,votesCount:e.votesCount,userVoteDirection:e.userVoteDirection,id:e.id,username:e.username,text:e.text,createdAt:e.createdAt,topicId:t.id})})))}}]),n}(r.Component)),ue=Object(i.c)((function(t){return{postDetail:t.posts.postDetail}}),(function(t){return{}}))(ie),le={root:"/",login:"/login",cadastro:"/register",postdetails:"/details"};var se=function(t){return a.a.createElement(f.a,{history:t.history},a.a.createElement(d.c,null,a.a.createElement(d.a,{exact:!0,path:le.root,component:Dt}),a.a.createElement(d.a,{exact:!0,path:le.login,component:P}),a.a.createElement(d.a,{exact:!0,path:le.cadastro,component:Tt}),a.a.createElement(d.a,{exact:!0,path:le.postdetails,component:ue})))},pe=n(30),me=n(37),fe={posts:[],user:[],postDetail:null,postComments:null,topicVote:null,loading:""},de=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET_POSTS":return Object(lt.a)({},t,{posts:e.payload.posts.posts});case"SET_USER":return Object(lt.a)({},t,{user:e.payload.userData});case"NEW_USER":return Object(lt.a)({},t,{newUser:e.payload.newUserData});case"SET_LOGOUT":return Object(lt.a)({},t,{user:[]});case"SET_POST_DETAIL":return Object(lt.a)({},t,{postDetail:e.payload.post,postComments:e.payload.post.comments});case"SET_LOADING_OFF":return Object(lt.a)({},t,{loading:"desliga"});case"SET_LOADING_FREE":return Object(lt.a)({},t,{loading:""});default:return t}},he=n(87),ve=n(169);function ge(){var t=Object(U.a)(["\nbackground-color: #f6f7f9;\nalign-self: center;\n"]);return ge=function(){return t},t}function be(){var t=Object(U.a)(["\ndisplay: flex;\nflex-direction: row;\nalign-items: center;\nmargin: 5px;\n"]);return be=function(){return t},t}function Oe(){var t=Object(U.a)(["\ndisplay: flex;\nflex-direction: column;\njustify-content: center;\ntext-align: center;\nalign-content: center;\nalign-items: center;\n"]);return Oe=function(){return t},t}function je(){var t=Object(U.a)(["\nbackground-color: darkorange;\npadding: 10px;\nborder-radius: 50%;\nwidth: auto;\nheight: width;\nmargin: 20px;\n"]);return je=function(){return t},t}function ye(){var t=Object(U.a)(["\ndisplay: flex;\nflex-direction: row;\njustify-content: space-between;\nbackground-color: white;\nmargin-bottom: 20px;\n\n"]);return ye=function(){return t},t}function xe(){var t=Object(U.a)(["\ndisplay: flex;\nflex-direction: row;\njustify-content: center;\ntext-align: center;\nalign-content: center;\nalign-items: center;\n"]);return xe=function(){return t},t}var Ee,we=M.a.div(xe()),ke=Object(M.a)(ve.a)(ye()),Se=M.a.div(je()),De=M.a.div(Oe()),Ce=M.a.div(be()),Ie=Object(M.a)(pt.a)(ge()),Te=n(97),_e=n.n(Te),Ve=n(98),Ae=n.n(Ve),Le=n(170),Ne=function(t){Object(O.a)(n,t);var e=Object(b.a)(n);function n(){return Object(v.a)(this,n),e.apply(this,arguments)}return Object(g.a)(n,[{key:"componentDidMount",value:function(){var t=JSON.parse(localStorage.getItem("user"));null!==t&&this.props.setUser(t)}},{key:"render",value:function(){var t=a.a.createElement(Ce,null,a.a.createElement(Ce,null,a.a.createElement(bt.a,{variant:"outlined",size:"small",color:"primary",onClick:this.props.setLogout},"Logout")),a.a.createElement("div",null,a.a.createElement(ot.a,{variant:"subtitle2",color:"textPrimary"},"User: ",null===this.props.user?"":this.props.user.username),a.a.createElement(ot.a,{variant:"subtitle2",color:"textPrimary"},"Email: ",null===this.props.user?"":this.props.user.email))),e=a.a.createElement(we,null,a.a.createElement(Se,null,a.a.createElement(_e.a,{fontSize:"large"})),a.a.createElement(De,null,a.a.createElement(ot.a,{variant:"h5",color:"textPrimary"},"4eddit"),a.a.createElement(ot.a,{variant:"subtitle2",color:"textPrimary"},"Turma 2 - Sagan"))),n=a.a.createElement(we,null,a.a.createElement(Ie,{placeholder:"Search",variant:"outlined",InputProps:{startAdornment:a.a.createElement(Le.a,{position:"start"},a.a.createElement(Ae.a,null))}}));return a.a.createElement(ke,{position:"relative",elevation:0},0===this.props.user.length?"":e,0===this.props.user.length?"":n,0===this.props.user.length?"":t," ")}}]),n}(r.Component),Pe=Object(i.c)((function(t){return{user:t.posts.user}}),(function(t){return{setLogout:function(){return t((localStorage.clear(),{type:"SET_LOGOUT",payload:{}}))},setUser:function(e){return t(S(e))}}}))(Ne),Ue=Object(pe.a)(),Me=[Object(me.a)(Object(he.a)(Ue),u.a),window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__():function(t){return t}],Fe=Object(me.e)((Ee=Ue,Object(me.c)({router:Object(f.b)(Ee),posts:de})),me.d.apply(void 0,Me)),Re=function(){return a.a.createElement(i.a,{store:Fe},a.a.createElement(l.a,{theme:m},a.a.createElement(s.a,null),a.a.createElement(Pe,null),a.a.createElement(se,{history:Ue})))},We=document.getElementById("root");c.a.render(a.a.createElement(Re,null),We)}},[[106,1,2]]]);
//# sourceMappingURL=main.885df23d.chunk.js.map